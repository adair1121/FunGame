{"version":3,"sources":["assets/Script/Role/boo2.js"],"names":["global","require","cc","Class","Component","properties","pop","url","AudioClip","onLoad","scale","ori","v","a","node","ori_xv","ori_xa","xv","xa","onCollisionEnter","other","self","y","tag","Math","max","scaleX","scaleY","min","update","dt","destroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["var global = require(\"global\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pop: {\n            default: null,\n            url: cc.AudioClip\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.scale = 1;\n        this.ori = {\n            v: 10,\n            a: -0.3\n        }\n\n        this.v = this.ori.v;\n        this.a = this.ori.a;\n\n        this.node.ori_xv = 1;\n        this.node.ori_xa = 0.2;\n\n        this.node.xv = 1;\n        this.node.xa = 0.2;\n    },\n\n    onCollisionEnter: function (other, self) {\n        if(this.node.y > 300) {\n            return;\n        }\n        // cc.audioEngine.playEffect(this.pop, false);\n        \n        switch(other.tag) {\n            case 1:\n                // 方块，圆球，树杆\n                this.v = this.ori.v;\n            break;\n            case 2:\n                // 弹簧\n                this.v = this.ori.v * 1.5;\n            break;\n\n            case 1001:\n                // 弹起\n                this.ori.v += 1;\n                this.v = this.ori.v;\n\n            break;\n            case 1002:\n                // 再跳高点吧\n                this.v = this.ori.v;\n\n            break;\n            case 1003:\n                // 变小\n                this.scale -= 0.2;\n                this.scale = Math.max(0.3, this.scale);\n                this.node.scaleX = this.scale;\n                this.node.scaleY = this.scale;\n\n                this.v = this.ori.v;\n            break;\n            case 1004:\n                // 变大\n                this.scale += 0.2;\n                this.scale = Math.min(1.3, this.scale);\n                this.node.scaleX = this.scale;\n                this.node.scaleY = this.scale;\n\n                this.v = this.ori.v;\n            break;\n            case 1005:\n                // 每次弹跳额外+1分\n                this.v = this.ori.v;\n            break;\n            case 1006:\n                // 每次弹跳额外-1分\n                this.v = this.ori.v;\n            break;\n            case 1007:\n                // 水平移动加快\n                this.node.ori_xv += 1;\n                this.v = this.ori.v;\n            break;\n            case 1008:\n                // 水平加速度加快\n                this.node.ori_xa += 0.1;\n                this.v = this.ori.v;\n            break;\n            case 1009:\n                // 下降速度加快\n                this.ori.a -= 0.1;\n                this.v = this.ori.v;\n            break;\n        }\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        this.node.y += this.v;\n        this.v += this.a;\n\n        if(this.node.y < - 500) {\n            this.node.destroy();\n        }\n    },\n});\n"]}