{"version":3,"sources":["assets/Script/Role/boo.js"],"names":["global","require","cc","Class","Component","properties","pop","url","AudioClip","onLoad","scale","ori","v","a","node","ori_xv","ori_xa","xv","xa","onCollisionEnter","other","self","mode","y","audioEngine","playEffect","tag","game","setTip","setNum","Math","max","scaleX","scaleY","min","bonus","update","dt","destroy","end"],"mappings":"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","sourceRoot":"/","sourcesContent":["var global = require(\"global\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pop: {\n            default: null,\n            url: cc.AudioClip\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.scale = 1;\n        this.ori = {\n            v: 10,\n            a: -0.3\n        }\n\n        this.v = this.ori.v;\n        this.a = this.ori.a;\n\n        this.node.ori_xv = 1;\n        this.node.ori_xa = 0.2;\n\n        this.node.xv = 1;\n        this.node.xa = 0.2;\n    },\n\n    onCollisionEnter: function (other, self) {\n        if(this.node.mode == \"leitai\" && this.node.y < -100) {\n            return;\n        }\n        cc.audioEngine.playEffect(this.pop, false);\n        switch(other.tag) {\n            case 1:\n                // 方块，圆球，树杆\n                this.v = this.ori.v;\n            break;\n            case 2:\n                // 弹簧\n                this.v = this.ori.v * 1.5;\n            break;\n\n            case 1001:\n                // 弹起\n                this.ori.v += 1;\n                this.v = this.ori.v;\n\n                global.game.setTip(\"跳跃变高！\");\n            break;\n            case 1002:\n                // 再跳高点吧\n                this.v = this.ori.v;\n\n                global.game.setTip(\"+2分！\");\n                global.game.setNum(2);\n            break;\n            case 1003:\n                // 变小\n                this.scale -= 0.2;\n                this.scale = Math.max(0.3, this.scale);\n                this.node.scaleX = this.scale;\n                this.node.scaleY = this.scale;\n\n                this.v = this.ori.v;\n                global.game.setTip(\"变小！\");\n            break;\n            case 1004:\n                // 变大\n                this.scale += 0.2;\n                this.scale = Math.min(1.3, this.scale);\n                this.node.scaleX = this.scale;\n                this.node.scaleY = this.scale;\n\n                this.v = this.ori.v;\n                global.game.setTip(\"变大！\");\n            break;\n            case 1005:\n                // 每次弹跳额外+1分\n                this.v = this.ori.v;\n                global.bonus += 1;\n                global.game.setTip(\"每次弹跳+\" + (global.bonus + 1) + \"分！\");\n            break;\n            case 1006:\n                // 每次弹跳额外-1分\n                this.v = this.ori.v;\n                global.bonus -= 1;\n                global.bonus = Math.max(0, global.bonus);\n                global.game.setTip(\"每次弹跳+\" + (global.bonus + 1) + \"分！\");\n            break;\n            case 1007:\n                // 水平移动加快\n                this.v = this.ori.v;\n                this.node.ori_xv += 1;\n                global.game.setTip(\"水平初速度加快\");\n            break;\n            case 1008:\n                // 水平加速度加快\n                this.v = this.ori.v;\n                this.node.ori_xa += 0.1;\n                global.game.setTip(\"水平加速度加快\");\n            break;\n            case 1009:\n                // 下降速度加快\n                this.v = this.ori.v;\n                this.ori.a -= 0.1;\n                global.game.setTip(\"下降速度加快\");\n            break;\n        }\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        this.node.y += this.v;\n        this.v += this.a;\n\n        if(this.node.y < - 500) {\n            this.node.destroy();\n            global.game.end();\n        }\n    },\n});\n"]}